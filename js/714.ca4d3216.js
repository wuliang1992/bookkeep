"use strict";(self["webpackChunkbookeeping"]=self["webpackChunkbookeeping"]||[]).push([[714],{7714:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"header"},[e("el-button",{staticClass:"back-btn",attrs:{icon:"el-icon-back",circle:"",size:"mini"},on:{click:t.goBack}}),e("h1",{staticClass:"page-title"},[t._v(t._s(t.monthTitle)+t._s(t.day)+"日支出明细")])],1),e("el-card",{staticClass:"expense-section"},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("固定支出")])]),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.fixedExpenses}},[e("el-table-column",{attrs:{prop:"type",label:"类别",width:"180"}}),e("el-table-column",{attrs:{prop:"amount",label:"金额",width:"180"}}),e("el-table-column",{attrs:{prop:"payer",label:"付款人"}})],1),e("div",{staticClass:"total"},[t._v("总计："+t._s(t.fixedTotal)+"元")])],1),e("div",{staticClass:"summary"},[e("div",{staticClass:"daily-limit"},[t._v("日常支出预算：6000")]),e("div",{staticClass:"balance",class:{"over-budget":t.balanceAmount<0}},[t._v(" 剩余额度："+t._s(t.balanceAmount)+" ")]),e("div",{staticClass:"total-expense"},[t._v("总支出："+t._s(t.totalAmount))])]),e("el-card",{staticClass:"expense-section"},[e("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("日常支出明细")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleAdd}},[t._v("新增支出")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{size:"small",data:t.dailyExpenses}},[e("el-table-column",{attrs:{label:"明细"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.isEdit?e("el-input",{attrs:{size:"mini"},model:{value:n.row.detail,callback:function(e){t.$set(n.row,"detail",e)},expression:"scope.row.detail"}}):e("span",[t._v(t._s(n.row.detail))])]}}])}),e("el-table-column",{attrs:{label:"类别"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.isEdit?e("el-select",{attrs:{size:"mini",placeholder:"请选择类别"},model:{value:n.row.type,callback:function(e){t.$set(n.row,"type",e)},expression:"scope.row.type"}},[e("el-option",{attrs:{label:"城市交通",value:"城市交通"}}),e("el-option",{attrs:{label:"水饮咖啡",value:"水饮咖啡"}}),e("el-option",{attrs:{label:"零食",value:"零食"}}),e("el-option",{attrs:{label:"孩子玩具",value:"孩子玩具"}}),e("el-option",{attrs:{label:"护肤美妆",value:"护肤美妆"}})],1):e("span",[t._v(t._s(n.row.type))])]}}])}),e("el-table-column",{attrs:{label:"金额"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.isEdit?e("el-input-number",{staticStyle:{width:"100px"},attrs:{size:"mini",precision:2,step:.1,controls:!1},model:{value:n.row.amount,callback:function(e){t.$set(n.row,"amount",e)},expression:"scope.row.amount"}}):e("span",[t._v(t._s(n.row.amount))])]}}])}),e("el-table-column",{attrs:{label:"付款人"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.isEdit?e("el-select",{attrs:{size:"mini",placeholder:"请选择付款人"},model:{value:n.row.payer,callback:function(e){t.$set(n.row,"payer",e)},expression:"scope.row.payer"}},[e("el-option",{attrs:{label:"张蕊",value:"张蕊"}}),e("el-option",{attrs:{label:"吴亮",value:"吴亮"}})],1):e("span",[t._v(t._s(n.row.payer))])]}}])}),e("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(n){return[n.row.isEdit?[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.handleSave(n.row)}}},[t._v("保存")]),e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleCancel(n.row)}}},[t._v("取消")])]:[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(n.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(n.$index)}}},[t._v("删除")])]]}}])})],1),e("div",{staticClass:"total"},[t._v("总计："+t._s(t.dailyTotal)+"元")])],1),e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{attrs:{model:t.currentItem,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"明细"}},[e("el-input",{model:{value:t.currentItem.detail,callback:function(e){t.$set(t.currentItem,"detail",e)},expression:"currentItem.detail"}})],1),e("el-form-item",{attrs:{label:"类别"}},[e("el-select",{attrs:{placeholder:"请选择类别"},model:{value:t.currentItem.type,callback:function(e){t.$set(t.currentItem,"type",e)},expression:"currentItem.type"}},[e("el-option",{attrs:{label:"城市交通",value:"城市交通"}}),e("el-option",{attrs:{label:"水饮咖啡",value:"水饮咖啡"}}),e("el-option",{attrs:{label:"零食",value:"零食"}}),e("el-option",{attrs:{label:"孩子玩具",value:"孩子玩具"}}),e("el-option",{attrs:{label:"护肤美妆",value:"护肤美妆"}})],1)],1),e("el-form-item",{attrs:{label:"金额"}},[e("el-input-number",{attrs:{precision:2,step:.1},model:{value:t.currentItem.amount,callback:function(e){t.$set(t.currentItem,"amount",e)},expression:"currentItem.amount"}})],1),e("el-form-item",{attrs:{label:"付款人"}},[e("el-select",{attrs:{placeholder:"请选择付款人"},model:{value:t.currentItem.payer,callback:function(e){t.$set(t.currentItem,"payer",e)},expression:"currentItem.payer"}},[e("el-option",{attrs:{label:"张蕊",value:"张蕊"}}),e("el-option",{attrs:{label:"吴亮",value:"吴亮"}})],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("确 定")])],1)],1)],1)},o=[],i=(n(4114),n(8992),n(8872),{name:"DayDetail",data(){return{monthTitle:"",day:"",fixedExpenses:[{type:"住房支出",amount:3815.41,payer:"吴亮"},{type:"住房支出",amount:3078.74,payer:"张蕊"},{type:"住房支出",amount:2900,payer:"张蕊"}],dailyExpenses:[],dialogVisible:!1,currentItem:{detail:"",type:"",amount:0,payer:""},isEdit:!1,editIndex:-1,tempRow:null}},computed:{dialogTitle(){return this.isEdit?"编辑支出":"新增支出"},fixedTotal(){return this.fixedExpenses.reduce(((t,e)=>t+e.amount),0).toFixed(2)},dailyTotal(){return this.dailyExpenses.reduce(((t,e)=>t+e.amount),0).toFixed(2)},totalAmount(){return(Number(this.fixedTotal)+Number(this.dailyTotal)).toFixed(2)},balanceAmount(){return(6e3-Number(this.dailyTotal)).toFixed(2)}},created(){const{monthId:t,day:e}=this.$route.params;this.monthTitle=this.getMonthTitle(t),this.day=e,this.loadDailyExpenses()},methods:{getMonthTitle(t){const e=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];return e[t-1]},loadDailyExpenses(){this.dailyExpenses=[{detail:"假期出门公交地铁",type:"城市交通",amount:14.75,payer:"张蕊",isEdit:!1},{detail:"买矿泉水",type:"水饮咖啡",amount:3,payer:"张蕊",isEdit:!1},{detail:"烤肠",type:"零食",amount:16,payer:"吴亮",isEdit:!1}]},goBack(){this.$router.go(-1)},handleAdd(){this.dailyExpenses.push({detail:"",type:"",amount:0,payer:"",isEdit:!0,isNew:!0})},handleEdit(t){this.tempRow={...t},t.isEdit=!0},handleSave(t){t.detail&&t.type&&t.amount&&t.payer?(t.isEdit=!1,t.isNew&&delete t.isNew,this.$message({type:"success",message:"保存成功!"})):this.$message.warning("请填写完整信息")},handleCancel(t){if(t.isNew){const e=this.dailyExpenses.indexOf(t);this.dailyExpenses.splice(e,1)}else Object.assign(t,this.tempRow),t.isEdit=!1},handleDelete(t){this.$confirm("确认删除该支出记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.dailyExpenses.splice(t,1),this.$message({type:"success",message:"删除成功!"})})).catch((()=>{}))}}}),a=i,l=n(1656),s=(0,l.A)(a,r,o,!1,null,"6ecaaf86",null),c=s.exports},679:function(t,e,n){var r=n(1625),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new o("Incorrect invocation")}},4527:function(t,e,n){var r=n(3724),o=n(4376),i=TypeError,a=Object.getOwnPropertyDescriptor,l=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=l?function(t,e){if(o(t)&&!a(t,"length").writable)throw new i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},6955:function(t,e,n){var r=n(2140),o=n(4901),i=n(2195),a=n(8227),l=a("toStringTag"),s=Object,c="Arguments"===i(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=s(t),l))?n:c?i(e):"Object"===(r=i(e))&&o(e.callee)?"Arguments":r}},2211:function(t,e,n){var r=n(9039);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4659:function(t,e,n){var r=n(3724),o=n(4913),i=n(6980);t.exports=function(t,e,n){r?o.f(t,e,i(0,n)):t[e]=n}},2106:function(t,e,n){var r=n(283),o=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},6837:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},6080:function(t,e,n){var r=n(7476),o=n(9306),i=n(616),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},7476:function(t,e,n){var r=n(2195),o=n(9504);t.exports=function(t){if("Function"===r(t))return o(t)}},1767:function(t){t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},851:function(t,e,n){var r=n(6955),o=n(5966),i=n(4117),a=n(6269),l=n(8227),s=l("iterator");t.exports=function(t){if(!i(t))return o(t,s)||o(t,"@@iterator")||a[r(t)]}},81:function(t,e,n){var r=n(9565),o=n(9306),i=n(8551),a=n(6823),l=n(851),s=TypeError;t.exports=function(t,e){var n=arguments.length<2?l(t):e;if(o(n))return i(r(n,t));throw new s(a(t)+" is not iterable")}},397:function(t,e,n){var r=n(7751);t.exports=r("document","documentElement")},4209:function(t,e,n){var r=n(8227),o=n(6269),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},4376:function(t,e,n){var r=n(2195);t.exports=Array.isArray||function(t){return"Array"===r(t)}},2652:function(t,e,n){var r=n(6080),o=n(9565),i=n(8551),a=n(6823),l=n(4209),s=n(6198),c=n(1625),u=n(81),p=n(851),d=n(9539),f=TypeError,h=function(t,e){this.stopped=t,this.result=e},y=h.prototype;t.exports=function(t,e,n){var m,v,b,w,x,g,E,_=n&&n.that,T=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),I=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),A=r(e,_),S=function(t){return m&&d(m,"normal",t),new h(!0,t)},C=function(t){return T?(i(t),O?A(t[0],t[1],S):A(t[0],t[1])):O?A(t,S):A(t)};if(k)m=t.iterator;else if(I)m=t;else{if(v=p(t),!v)throw new f(a(t)+" is not iterable");if(l(v)){for(b=0,w=s(t);w>b;b++)if(x=C(t[b]),x&&c(y,x))return x;return new h(!1)}m=u(t,v)}g=k?t.next:m.next;while(!(E=o(g,m)).done){try{x=C(E.value)}catch(j){d(m,"throw",j)}if("object"==typeof x&&x&&c(y,x))return x}return new h(!1)}},9539:function(t,e,n){var r=n(9565),o=n(8551),i=n(5966);t.exports=function(t,e,n){var a,l;o(t);try{if(a=i(t,"return"),!a){if("throw"===e)throw n;return n}a=r(a,t)}catch(s){l=!0,a=s}if("throw"===e)throw n;if(l)throw a;return o(a),n}},7657:function(t,e,n){var r,o,i,a=n(9039),l=n(4901),s=n(34),c=n(2360),u=n(2787),p=n(6840),d=n(8227),f=n(6395),h=d("iterator"),y=!1;[].keys&&(i=[].keys(),"next"in i?(o=u(u(i)),o!==Object.prototype&&(r=o)):y=!0);var m=!s(r)||a((function(){var t={};return r[h].call(t)!==t}));m?r={}:f&&(r=c(r)),l(r[h])||p(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:y}},6269:function(t){t.exports={}},2360:function(t,e,n){var r,o=n(8551),i=n(6801),a=n(8727),l=n(421),s=n(397),c=n(4055),u=n(6119),p=">",d="<",f="prototype",h="script",y=u("IE_PROTO"),m=function(){},v=function(t){return d+h+p+t+d+"/"+h+p},b=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},w=function(){var t,e=c("iframe"),n="java"+h+":";return e.style.display="none",s.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},x=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}x="undefined"!=typeof document?document.domain&&r?b(r):w():b(r);var t=a.length;while(t--)delete x[f][a[t]];return x()};l[y]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[f]=o(t),n=new m,m[f]=null,n[y]=t):n=x(),void 0===e?n:i.f(n,e)}},6801:function(t,e,n){var r=n(3724),o=n(8686),i=n(4913),a=n(8551),l=n(5397),s=n(1072);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);var n,r=l(e),o=s(e),c=o.length,u=0;while(c>u)i.f(t,n=o[u++],r[n]);return t}},2787:function(t,e,n){var r=n(9297),o=n(4901),i=n(8981),a=n(6119),l=n(2211),s=a("IE_PROTO"),c=Object,u=c.prototype;t.exports=l?c.getPrototypeOf:function(t){var e=i(t);if(r(e,s))return e[s];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof c?u:null}},1072:function(t,e,n){var r=n(1828),o=n(8727);t.exports=Object.keys||function(t){return r(t,o)}},2140:function(t,e,n){var r=n(8227),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},4114:function(t,e,n){var r=n(6518),o=n(8981),i=n(6198),a=n(4527),l=n(6837),s=n(9039),c=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},p=c||!u();r({target:"Array",proto:!0,arity:1,forced:p},{push:function(t){var e=o(this),n=i(e),r=arguments.length;l(n+r);for(var s=0;s<r;s++)e[n]=arguments[s],n++;return a(e,n),n}})},8111:function(t,e,n){var r=n(6518),o=n(4576),i=n(679),a=n(8551),l=n(4901),s=n(2787),c=n(2106),u=n(4659),p=n(9039),d=n(9297),f=n(8227),h=n(7657).IteratorPrototype,y=n(3724),m=n(6395),v="constructor",b="Iterator",w=f("toStringTag"),x=TypeError,g=o[b],E=m||!l(g)||g.prototype!==h||!p((function(){g({})})),_=function(){if(i(this,h),s(this)===h)throw new x("Abstract class Iterator not directly constructable")},T=function(t,e){y?c(h,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===h)throw new x("You can't redefine this property");d(this,t)?this[t]=e:u(this,t,e)}}):h[t]=e};d(h,w)||T(w,b),!E&&d(h,v)&&h[v]!==Object||T(v,_),_.prototype=h,r({global:!0,constructor:!0,forced:E},{Iterator:_})},8237:function(t,e,n){var r=n(6518),o=n(2652),i=n(9306),a=n(8551),l=n(1767),s=TypeError;r({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),i(t);var e=l(this),n=arguments.length<2,r=n?void 0:arguments[1],c=0;if(o(e,(function(e){n?(n=!1,r=e):r=t(r,e,c),c++}),{IS_RECORD:!0}),n)throw new s("Reduce of empty iterator with no initial value");return r}})},8992:function(t,e,n){n(8111)},8872:function(t,e,n){n(8237)}}]);
//# sourceMappingURL=714.ca4d3216.js.map